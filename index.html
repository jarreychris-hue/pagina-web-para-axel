<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Para Mi Novio ‚ù§Ô∏è ‚Äî Todo</title>
<style>
  /* ---------- Reset + base ---------- */
  :root{
    --bg1: #ffb3c6;
    --bg2: #ff8fab;
    --card: rgba(255,255,255,0.95);
    --accent: #ff2f67;
    --accent-2: #ff7a9b;
    --text: #222;
    --glass: rgba(255,255,255,0.12);
  }
  .dark {
    --bg1: #1b1b2f;
    --bg2: #2f2b4a;
    --card: rgba(10,10,12,0.86);
    --accent: #ff6b9f;
    --accent-2: #ff2f67;
    --text: #f4f3f8;
    --glass: rgba(255,255,255,0.03);
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: "Inter", Arial, sans-serif;
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    min-height:100vh;
    overflow-x:hidden;
  }

  /* ---------- App container (mobile-like) ---------- */
  .app {
    max-width:920px;
    margin:24px auto;
    border-radius:28px;
    background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.035));
    padding:18px;
    box-shadow:0 10px 40px rgba(0,0,0,0.25);
    position:relative;
    overflow:hidden;
  }

  header{
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    padding:10px 6px;
  }
  .title{
    display:flex;
    align-items:center;
    gap:12px;
  }
  .title h1{
    margin:0;
    font-size:22px;
    letter-spacing:0.6px;
  }
  .title span.heart-small{font-size:20px}

  /* Night toggle */
  .controls{display:flex; gap:10px; align-items:center;}
  .btn{
    background: linear-gradient(90deg,var(--accent),var(--accent-2));
    color:white;
    border:none;
    padding:10px 14px;
    border-radius:999px;
    cursor:pointer;
    font-weight:600;
    box-shadow:0 6px 18px rgba(0,0,0,0.2);
  }
  .btn.ghost{
    background:transparent;
    border:1px solid rgba(255,255,255,0.12);
    color:var(--text);
    box-shadow:none;
  }

  /* Carrusel (slider) */
  .carrusel {
    width:100%;
    max-width:720px;
    margin:12px auto;
    border-radius:16px;
    overflow:hidden;
    box-shadow:0 8px 30px rgba(0,0,0,0.25);
    position:relative;
  }
  .carrusel img{
    width:100%;
    height:420px;
    object-fit:cover;
    display:none;
  }
  .carrusel img.visible{display:block}

  /* Heart giant */
  .heart-center {
    position:fixed;
    left:50%;
    top:22%;
    transform:translateX(-50%);
    pointer-events:none;
    z-index:5;
    font-size:110px;
    opacity:0.18;
    animation:latir 2s ease-in-out infinite;
    filter:drop-shadow(0 8px 14px rgba(255,60,120,0.2));
  }
  @keyframes latir {
    0%{transform:translateX(-50%) scale(1)}
    50%{transform:translateX(-50%) scale(1.08)}
    100%{transform:translateX(-50%) scale(1)}
  }

  /* Galer√≠a */
  h2{margin:26px 12px 6px 12px; font-size:20px; text-align:left}
  .galeria{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:18px;
    padding:12px;
  }
  .foto{
    background:var(--card);
    border-radius:14px;
    padding:10px;
    box-shadow:0 6px 18px rgba(0,0,0,0.14);
    transition: transform .35s ease, box-shadow .35s;
    cursor:pointer;
    position:relative;
    overflow:hidden;
  }
  .foto:hover{ transform:translateY(-6px); box-shadow:0 14px 30px rgba(0,0,0,0.22) }
  .foto img{
    width:100%;
    height:280px;
    object-fit:cover;
    border-radius:10px;
    transition: transform .5s cubic-bezier(.22,.9,.19,1);
    transform-origin:center center;
  }
  .foto:hover img{ transform: rotateY(10deg) rotateZ(1deg) scale(1.03) }

  /* Envelope (carta) */
  .sobre-wrap{
    display:flex;
    justify-content:center;
    margin:18px 0 8px;
  }
  .sobre{
    width:220px;
    height:140px;
    position:relative;
    perspective:900px;
    cursor:pointer;
  }
  .sobre .body{
    width:100%;
    height:100%;
    background:linear-gradient(135deg,var(--card), rgba(255,255,255,0.85));
    border-radius:12px;
    position:absolute;
    left:0; top:0;
    transform-origin:top;
    transform-style:preserve-3d;
    transition: transform .7s cubic-bezier(.2,.9,.3,1);
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 12px 30px rgba(0,0,0,0.18);
  }
  .sobre.open .body{ transform: rotateX(180deg) translateY(-8px) }
  .carta{
    position:absolute;
    width:86%;
    height:68%;
    top:18%;
    left:7%;
    background:white;
    border-radius:6px;
    box-shadow:0 6px 18px rgba(0,0,0,0.12);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:12px;
    text-align:center;
    transform: translateZ(30px);
  }
  .sobre .tri{
    position:absolute;
    width:0; height:0;
    border-left:110px solid transparent;
    border-right:110px solid transparent;
    border-bottom:36px solid var(--card);
    top:-18px;
    left:0;
    border-radius:6px;
    transform-origin:center;
  }
  .msg {
    font-weight:700;
    color:var(--accent);
    font-size:16px;
  }

  /* Part√≠culas canvas container */
  canvas#particles {
    position:fixed;
    left:0; top:0;
    width:100vw; height:100vh;
    pointer-events:none;
    z-index:2;
    mix-blend-mode:screen;
    opacity:0.9;
  }

  /* Brillos mouse-follow */
  .sparkle {
    position:fixed;
    width:10px;
    height:10px;
    border-radius:50%;
    pointer-events:none;
    z-index:9999;
    box-shadow:0 0 12px rgba(255,255,255,0.9);
    transform:translate(-50%,-50%);
    opacity:0.9;
    transition:transform .12s linear, opacity .6s linear;
    mix-blend-mode:screen;
  }

  /* Footer phrase */
  .frase {
    text-align:center;
    padding:22px;
    font-weight:700;
    font-size:18px;
    color:var(--text);
  }

  /* small screens */
  @media (max-width:560px){
    .carrusel img{height:320px}
    .heart-center{display:none}
  }
</style>
</head>
<body>

<!-- --------- Part√≠culas (canvas) --------- -->
<canvas id="particles"></canvas>

<!-- --------- Sparkles follow mouse (container) --------- -->
<div id="sparkles-root"></div>

<!-- --------- Giant heart in the background --------- -->
<div class="heart-center">‚ù§Ô∏è</div>

<!-- --------- Main app ---------- -->
<div class="app" id="app">
  <header>
    <div class="title">
      <span class="heart-small">üíñ</span>
      <h1>Para Mi Novio</h1>
    </div>

    <div class="controls">
      <button class="btn" id="surpriseBtn">Sorpresa üé∂</button>
      <button class="btn ghost" id="modoBtn">Modo noche üåô</button>
    </div>
  </header>

  <!-- Carrusel -->
  <div class="carrusel" id="slider">
    <img src="foto1.jpg" class="visible" alt="foto1">
    <img src="foto2.jpg" alt="foto2">
    <img src="foto3.jpg" alt="foto3">
    <img src="foto4.jpg" alt="foto4">
  </div>

  <!-- Sobre/carta -->
  <div class="sobre-wrap">
    <div class="sobre" id="sobre">
      <div class="body">
        <div class="carta">
          <div class="msg">Haz clic para abrir mi carta üíå</div>
        </div>
      </div>
      <div class="tri"></div>
    </div>
  </div>

  <!-- Galer√≠a -->
  <h2>üì∏ Nuestra Galer√≠a</h2>
  <div class="galeria" id="galeria">
    <div class="foto"><img src="foto1.jpg" alt=""></div>
    <div class="foto"><img src="foto2.jpg" alt=""></div>
    <div class="foto"><img src="foto3.jpg" alt=""></div>
    <div class="foto"><img src="foto4.jpg" alt=""></div>
    <div class="foto"><img src="foto5.jpg" alt=""></div>
    <div class="foto"><img src="foto6.jpg" alt=""></div>
  </div>

  <div class="frase">‚ÄúT√∫ haces que todo brille m√°s.‚Äù ‚ú®</div>
</div>

<!-- Audio (sorpresa) -->
<audio id="audio" src="cancion.mp3" preload="auto"></audio>

<script>
/* ------------------ MODE NIGHT ------------------ */
const modoBtn = document.getElementById('modoBtn');
modoBtn.addEventListener('click', () => {
  document.body.classList.toggle('dark');
  // visual feedback
  modoBtn.textContent = document.body.classList.contains('dark') ? 'Modo d√≠a ‚òÄÔ∏è' : 'Modo noche üåô';
});

/* ------------------ CARRUSEL ------------------ */
const slides = document.querySelectorAll('.carrusel img');
let idx = 0;
setInterval(() => {
  slides[idx].classList.remove('visible');
  idx = (idx + 1) % slides.length;
  slides[idx].classList.add('visible');
}, 3000);

/* ------------------ SURPRISE BUTTON (m√∫sica + mensaje) ------------------ */
const surpriseBtn = document.getElementById('surpriseBtn');
const audio = document.getElementById('audio');
surpriseBtn.addEventListener('click', () => {
  // Play audio (some browsers require user interaction)
  audio.currentTime = 0;
  audio.play().catch(()=>{/* ignore autoplay block */});
  // Mini mensaje bonito
  showPopup("Sorpresa üíù", "Te amo much√≠simo. Siempre t√∫ y yo.");
});

/* simple popup function */
function showPopup(title, text) {
  const card = document.createElement('div');
  card.style.position = 'fixed';
  card.style.left = '50%';
  card.style.top = '50%';
  card.style.transform = 'translate(-50%,-50%)';
  card.style.background = 'var(--card)';
  card.style.padding = '18px';
  card.style.borderRadius = '12px';
  card.style.boxShadow = '0 12px 38px rgba(0,0,0,0.35)';
  card.style.zIndex = 999999;
  card.innerHTML = `<h3 style="margin:0 0 8px 0">${title}</h3><div style="font-weight:600">${text}</div>`;
  document.body.appendChild(card);
  setTimeout(()=> card.remove(), 4200);
}

/* ------------------ ENVELOPE / CARTA ------------------ */
const sobre = document.getElementById('sobre');
let abierto = false;
sobre.addEventListener('click', () => {
  abierto = !abierto;
  sobre.classList.toggle('open', abierto);
  if (abierto) {
    // show message within carta after opening
    setTimeout(()=> {
      const carta = sobre.querySelector('.carta');
      carta.innerHTML = `<div style="padding:6px 10px"><strong style="color:var(--accent)">Mi amor,</strong><div style="margin-top:8px">Eres mi alegr√≠a diaria. Gracias por existir ‚ù§Ô∏è</div></div>`;
    }, 380);
  } else {
    // close -> restore prompt
    setTimeout(()=> {
      const carta = sobre.querySelector('.carta');
      carta.innerHTML = `<div class="msg">Haz clic para abrir mi carta üíå</div>`;
    }, 380);
  }
});

/* ------------------ PARTICLES canvas (starlike) ------------------ */
(function(){
  const canvas = document.getElementById('particles');
  const ctx = canvas.getContext('2d');
  let w = canvas.width = innerWidth;
  let h = canvas.height = innerHeight;
  const N = Math.floor((w*h)/90000); // density
  const parts = [];
  function rand(min,max){return Math.random()*(max-min)+min}
  function init(){ parts.length=0; for(let i=0;i<N;i++){
    parts.push({
      x:Math.random()*w,
      y:Math.random()*h,
      r:rand(0.8,2.6),
      vx:rand(-0.2,0.6),
      vy:rand(-0.15,0.15),
      life:rand(60,260),
      t:Math.random()*260
    });
  } }
  function resize(){ w = canvas.width = innerWidth; h = canvas.height = innerHeight; init(); }
  addEventListener('resize', resize);
  init();
  function draw(){
    ctx.clearRect(0,0,w,h);
    for(let p of parts){
      p.t += 1;
      p.x += p.vx; p.y += p.vy;
      if(p.x > w+30) p.x = -30;
      if(p.x < -30) p.x = w+30;
      if(p.y > h+30) p.y = -30;
      if(p.y < -30) p.y = h+30;
      const a = (Math.sin(p.t/40) + 1)/2;
      ctx.beginPath();
      ctx.fillStyle = `rgba(255,255,255,${0.08 + a*0.18})`;
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(draw);
  }
  draw();
})();

/* ------------------ SPARKLES that follow the mouse ------------------ */
(function(){
  const root = document.getElementById('sparkles-root');
  const colors = ['#fff','#ffe3f0','#ffb3d1','#ffd1dc'];
  let last = 0;
  addEventListener('mousemove', e => {
    const now = Date.now();
    if(now - last < 20) return; // throttle
    last = now;
    const s = document.createElement('div');
    s.className = 'sparkle';
    s.style.left = e.clientX + 'px';
    s.style.top = e.clientY + 'px';
    s.style.width = (6 + Math.random()*12) + 'px';
    s.style.height = s.style.width;
    s.style.background = colors[Math.floor(Math.random()*colors.length)];
    s.style.opacity = 0.9;
    s.style.transition = 'transform .6s linear, opacity 1s linear';
    document.body.appendChild(s);
    requestAnimationFrame(()=> {
      s.style.transform = `translate(-50%,-50%) translateY(-30px) scale(${1 + Math.random()*1.4})`;
      s.style.opacity = 0;
    });
    setTimeout(()=> s.remove(), 900);
  });
})();

/* ------------------ Hearts on click ------------------ */
(function(){
  let zIndex = 10000;
  addEventListener('click', e => {
    const heart = document.createElement('div');
    heart.innerText = 'üíñ';
    heart.style.position = 'fixed';
    heart.style.left = e.clientX + 'px';
    heart.style.top = e.clientY + 'px';
    heart.style.transform = 'translate(-50%,-50%) scale(0.8)';
    heart.style.transition = 'transform 800ms cubic-bezier(.2,.9,.3,1), opacity 900ms';
    heart.style.opacity = '1';
    heart.style.pointerEvents = 'none';
    heart.style.zIndex = ++zIndex;
    heart.style.fontSize = (18 + Math.random()*26) + 'px';
    document.body.appendChild(heart);
    setTimeout(()=> {
      heart.style.transform = `translate(-50%,-150%) scale(1.6)`;
      heart.style.opacity = '0';
    }, 20);
    setTimeout(()=> heart.remove(), 900);
  });
})();

/* ------------------ Click to view big image (lightbox) ------------------ */
(function(){
  const gal = document.getElementById('galeria');
  gal.addEventListener('click', e => {
    const img = e.target.closest('img');
    if(!img) return;
    const overlay = document.createElement('div');
    overlay.style.position='fixed';
    overlay.style.left=0; overlay.style.top=0; overlay.style.right=0; overlay.style.bottom=0;
    overlay.style.background='rgba(0,0,0,0.7)';
    overlay.style.display='flex'; overlay.style.alignItems='center'; overlay.style.justifyContent='center';
    overlay.style.zIndex=999999;
    const big = document.createElement('img');
    big.src = img.src;
    big.style.maxWidth='92%';
    big.style.maxHeight='86%';
    big.style.borderRadius='12px';
    big.style.boxShadow='0 14px 40px rgba(0,0,0,0.6)';
    overlay.appendChild(big);
    overlay.addEventListener('click', ()=> overlay.remove());
    document.body.appendChild(overlay);
  });
})();

/* ------------------ small UX touches (keyboard pause audio) ------------------ */
document.addEventListener('keydown', e => {
  if(e.key === ' '){ // space toggles audio
    e.preventDefault();
    if(audio.paused) audio.play().catch(()=>{});
    else audio.pause();
  }
});

/* ------------------ Accessibility: stop audio on pagehide ------------------ */
addEventListener('pagehide', ()=> audio.pause());

</script>

<!-- ---------- INSTRUCTIONS (no code) ---------- -->
<!--
  Cambia los archivos:
  - fotos: foto1.jpg, foto2.jpg, ... (pon tus fotos en la misma carpeta)
  - audio: cancion.mp3 (pon tu canci√≥n o audio favorito en la misma carpeta)

  Guardar como: novio.html
  Abrir con un navegador (Chrome/Edge/Firefox) en tu PC o celular.
  Si el audio no suena al abrir, presiona cualquier bot√≥n (algunos navegadores bloquean reproducir hasta interacci√≥n).

  ¬øQuieres que personalice los textos, colores, la frase final o que ponga una canci√≥n por defecto p√∫blica?
  D√≠melo y te lo adapto.
-->

</body>
</html>
